
<!doctype html>
<html lang="en">
    <head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="../static/style.css" />
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
		<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.css">
		<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.5.1.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.js"></script>
		
		
		
		<!--template syntax is called Jinja; look up filters-->
	</head>
    <body>
		<div id="top-header">
			<h1 class="header">UMD Police Activity Log with Arrests</h1>
		</div>
		<div id="container">
			<div class="byline">
				By <a href="https://github.com/rachelll4/na-gov-upgrade">Rachel Logan</a>
			</div>
			<div id="intro">
				Welcome to a tracker for University of Maryland Police Department activity and arrest logs. 
				Data is scraped every morning from the UMPD website using Beautiful Soup in Python and arranged in this Flask app.
				On the UMPD site, data is displayed in flat, separate tables, so this site aims to add search and sort functions, 
				as well as the ability to connect arrests with the associated activity log entry. 
				Try searching for arrest or active dispositions. CBE stands for Cleared By Exception, meaning the case 
				is no longer active but is not resolved.
			</div>
			<table id="crime-table" data-order='[[ 2, "desc" ]]' border=1 cellpadding=7>
				<thead>
					<tr>
						<th>Case number</th>
						<th>Occured date, time</th>
						<th>Reported date, time</th>
						<th>Type</th>
						<th>Disposition</th>
						<th>Location</th>
					</tr>
				</thead>
				<tbody>
					{% for obj in activity_list %}
					<tr>
						{% if obj['DISPOSITION'] == 'Arrest' %}
						<td><a href="{{ obj['UMPD CASENUMBER'] }}/">{{ obj['UMPD CASENUMBER'] }}</a></td>
						{% else %}
						<td>{{ obj['UMPD CASENUMBER'] }}</td>
						{% endif%}
						<td>{{ obj['CASE_DATE']}}</td>
						<td>{{ obj['REPORT_DATE']}}</td>
						<td>{{ obj['TYPE'] }}</td>
						<td>{{ obj['DISPOSITION'] }}</td>
						<td>{{ obj['LOCATION'] }}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		<footer>
			<div id="footer-text">Copyright 2022</div>
		</footer>
		<script>
			$(document).ready( function () {
				$('#crime-table').DataTable();
			} );
		</script>
    </body>
</html>